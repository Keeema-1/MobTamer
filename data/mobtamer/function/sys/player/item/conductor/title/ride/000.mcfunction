
execute store result score $mt.controller mt.slot run data get storage mobtamer:temp data.item_tag.mt_state.slot
execute as @e[team=!,tag=mt.player_check,tag=mt.pet] if score @s mt.slot = $mt.controller mt.slot run tag @s add mt.check

execute unless score $mt.controller mt.slot matches ..-1 as @e[team=!,tag=mt.selected,tag=mt.player_check,tag=mt.pet] run title @a[tag=mt.player_check] actionbar ["",{"text":"【","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.common.mode","interpret": true,"color": "dark_red"},{"text":"：","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.mode.ride","interpret": true,"color": "dark_red"},{"text":"】","color": "dark_red"},{"text":" ("},{"storage": "mobtamer:text","nbt":"data.ride.over","interpret": true},{"text":")  "},{"selector":"@e[team=!,tag=mt.check,limit=1]"},{"text":" →  ("},{"storage": "mobtamer:text","nbt":"data.ride.under","interpret": true},{"text":") "},{"selector":"@s"},{"text":"  ("},{"storage": "mobtamer:text","nbt":"data.common.determine_by_action","interpret": true},{"text":")"}]
execute unless score $mt.controller mt.slot matches ..-1 unless entity @e[team=!,tag=mt.selected,tag=mt.player_check,tag=mt.pet] run title @a[tag=mt.player_check] actionbar ["",{"text":"【","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.common.mode","interpret": true,"color": "dark_red"},{"text":"：","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.mode.ride","interpret": true,"color": "dark_red"},{"text":"】","color": "dark_red"},{"text":" ("},{"storage": "mobtamer:text","nbt":"data.ride.over","interpret": true},{"text":")  "},{"selector":"@e[team=!,tag=mt.check,limit=1]"},{"text":" → "},{"storage": "mobtamer:text","nbt":"data.ride.select_under","interpret": true}]
execute if score $mt.controller mt.slot matches ..-1 as @e[team=!,tag=mt.selected,tag=mt.player_check,tag=mt.pet] run title @a[tag=mt.player_check] actionbar ["",{"text":"【","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.common.mode","interpret": true,"color": "dark_red"},{"text":"：","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.mode.ride","interpret": true,"color": "dark_red"},{"text":"】","color": "dark_red"},{"text":" ("},{"storage": "mobtamer:text","nbt":"data.ride.over","interpret": true},{"text":")  "},{"selector":"@a[tag=mt.player_check,limit=1]"},{"text":" →  ("},{"storage": "mobtamer:text","nbt":"data.ride.under","interpret": true},{"text":") "},{"selector":"@s"},{"text":"  ("},{"storage": "mobtamer:text","nbt":"data.common.determine_by_action","interpret": true},{"text":")"}]
execute if score $mt.controller mt.slot matches ..-1 unless entity @e[team=!,tag=mt.selected,tag=mt.player_check,tag=mt.pet] run title @a[tag=mt.player_check] actionbar ["",{"text":"【","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.common.mode","interpret": true,"color": "dark_red"},{"text":"：","color": "dark_red"},{"storage": "mobtamer:text","nbt":"data.mode.ride","interpret": true,"color": "dark_red"},{"text":"】","color": "dark_red"},{"text":" ("},{"storage": "mobtamer:text","nbt":"data.ride.over","interpret": true},{"text":")  "},{"selector":"@s"},{"text":" → "},{"storage": "mobtamer:text","nbt":"data.ride.select_under","interpret": true}]

tag @e[team=!,tag=mt.check] remove mt.check
scoreboard players reset $mt.controller mt.slot